<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LLM Trainer Simulado</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="d-flex justify-content-center align-items-center vh-100">

    <!--a href="slideshow.html">Slide Show</a-->

    <div class="container text-center">

        <!-- Página 1: Introdução -->
        <div id="page1">
            <h1>Bem-vindo ao Simulador de Treinamento de LLM</h1>
            <p class="mt-4">
            Neste simulador interativo, você aprenderá passo a passo como funciona o treinamento de um Modelo de Linguagem (LLM).  
            Você verá como o modelo processa texto, aprende padrões e ajusta seus parâmetros internos.  
            Ao final desta experiência, você terá "treinado" um mini-modelo simulado e poderá testar sua capacidade de gerar respostas!
            </p>
            <button class="btn-advance mt-5" onclick="nextPage()">AVANÇAR</button>
        </div>

        <!-- Página 2: Escolha de Dataset -->
        <div id="page2" class="hidden">
            <h2>Escolha um Dataset</h2>
            <p>
                Primeiro, selecione um conjunto de frases para treinar seu modelo.  
                Cada conjunto de frases é chamado de <strong>dataset</strong> e contém exemplos que o modelo usará para aprender padrões de linguagem.  
                Quanto mais variado e completo o dataset, mais rico será o aprendizado do modelo simulado.
            </p>
            <div class="d-flex justify-content-center gap-3 mt-3">
                <button class="btn btn-outline-light" onclick="chooseDataset('cumprimento')">Frases de Bom Dia</button>
                <button class="btn btn-outline-light" onclick="chooseDataset('piadas')">Piadas</button>
                <button class="btn btn-outline-light" onclick="chooseDataset('perguntas')">Perguntas & Respostas</button>
            </div>
            <div id="chosenDataset" class="mt-4"></div>
            <button class="btn-advance mt-5" onclick="nextPage()">AVANÇAR</button>
        </div>

        <!-- Página 3: Tokenização -->
        <div id="page3" class="hidden">
            <h2>Tokenização</h2>
            <p>
                Antes do treinamento, o modelo divide o texto do dataset em unidades menores chamadas <strong>tokens</strong>.  
                Tokens podem ser palavras, partes de palavras ou até caracteres individuais, dependendo do modelo.  
                Essa divisão permite que o LLM compreenda melhor a estrutura da linguagem e aprenda padrões de forma eficiente.  
                Observe os tokens gerados a partir do dataset que você escolheu.
            </p>


            <!-- Texto original -->
            <div id="originalText" class="mt-4 p-3 rounded" style="background:#1a1525;">
                <em>Texto original aparecerá aqui...</em>
            </div>

            <!-- Tokens -->
            <div id="tokensArea" class="mt-4"></div>

            <!-- IDs -->
            <div id="tokenIds" class="mt-4 p-3 rounded hidden" style="background:#1a1525;">
                <em>IDs dos tokens aparecerão aqui...</em>
            </div>

            <button class="btn-advance mt-5" onclick="generateTokens()">Gerar Tokens</button><br>
            <button class="btn-advance mt-3" onclick="nextPage()">AVANÇAR</button>
        </div>



        <!-- Página 4: Treinamento -->
        <div id="page4" class="hidden">
            <h2>Treinamento do Modelo</h2>
            <!-- Explicação do treinamento -->
            <p>
                O <strong>treinamento</strong> é o processo pelo qual o modelo ajusta seus <strong>pesos</strong> para aprender os padrões presentes nos tokens do dataset.  
                Cada token passa pelos neurônios da rede neural, ativando conexões e permitindo que o modelo "entenda" a relação entre palavras e conceitos.  
                A <strong>perda (loss)</strong> mede o quanto o modelo errou ao tentar prever os tokens; valores altos indicam que o modelo ainda precisa aprender.  
                À medida que os pesos são ajustados durante o treinamento, a perda diminui, indicando que o modelo está assimilando os padrões corretamente.  
                Ao final do treinamento, o modelo estará pronto para gerar respostas ou prever padrões com base nos tokens que viu.
            </p>

            <button class="btn-advance mt-5" onclick="startTraining()">Iniciar Treinamento</button><br>

            <!-- Barra de progresso -->
            <div class="mt-4" style="background:#2b193d; border-radius:15px; overflow:hidden;">
                <div id="trainingBar" class="training-bar"></div>
            </div>

            <!-- Rede neural -->
            <div id="network" class="d-flex justify-content-center align-items-center mt-5" style="position: relative; height:250px;">
                <!-- Camada de entrada -->
                <div class="d-flex flex-column justify-content-around align-items-center" style="margin:0 50px;">
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                </div>

                <!-- Camada escondida -->
                <div class="d-flex flex-column justify-content-around align-items-center" style="margin:0 50px;">
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                </div>

                <!-- Camada de saída -->
                <div class="d-flex flex-column justify-content-around align-items-center" style="margin:0 50px;">
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                </div>

                <!-- Canvas para linhas (pesos) e tokens animados -->
                <canvas id="weightsCanvas" width="800" height="250" style="position:absolute; top:0; left:0;"></canvas>
            </div>
            <!-- Gráfico de Loss -->
            <div class="mt-5">
                <h5>Perda (Loss) durante o treinamento</h5>
                <canvas id="lossChart" width="600" height="200" style="background:#1a1525; border-radius:12px;"></canvas>
            </div>

            <button class="btn-advance mt-3" onclick="nextPage()">AVANÇAR</button>
        </div>



        <!-- Página 5: Teste do LLM -->
        <div id="page5" class="hidden">
            <h2>Teste do LLM (Simulado)</h2>
            <p>
                Agora você verá como o modelo gera respostas com base nos tokens que aprendeu durante o treinamento.  
                O chat é simulado: o modelo seleciona respostas predefinidas coerentes com o dataset escolhido e mostra, para cada token, a probabilidade de ser gerado.  
                Dessa forma, você pode observar como os tokens influenciam a construção de frases e como o modelo simula a compreensão do texto.  
                Clique em "Próximo Insight" para ver diferentes respostas do LLM e explorar a variedade de padrões que ele aprendeu.
            </p>


            <!-- Chat -->
            <!--div id="chatArea" class="mt-4 p-3 rounded" style="background:#1a1525; height:300px; overflow-y:auto;"></div-->
            <div id="chatArea" class="mt-4 p-3 rounded d-flex flex-column" style="background:#1a1525; height:300px; overflow-y:auto;"></div>

            <!-- Probabilidade de cada token -->
            <div id="tokenProbabilities" class="mt-3 p-3 rounded" style="background:#2b193d;">
                <em>Probabilidades dos tokens aparecerão aqui...</em>
            </div>

            <button class="btn-advance mt-3" onclick="simulateLLMInteraction()">Próximo Insight</button>

        </div>

    </div>
    <script src="script.js"></script>

</body>
</html>
